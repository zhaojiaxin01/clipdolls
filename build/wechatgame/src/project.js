require=function o(r,s,a){function l(t,e){if(!s[t]){if(!r[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(p)return p(t,!0);var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}var i=s[t]={exports:{}};r[t][0].call(i.exports,function(e){return l(r[t][1][e]||e)},i,i.exports,o,r,s,a)}return s[t].exports}for(var p="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({Ctype:[function(e,t,c){"use strict";cc._RF.push(t,"cf26bf/kz1CDrnMVgi5+OUc","Ctype");t.exports={auth:{LOGIN_REQ:65537,LOGIN_RES:65538,EDIT_PROFILE:65539,UNAME_LOGIN:65542}},cc._RF.pop()},{}],addAddress:[function(e,t,c){"use strict";cc._RF.push(t,"6eccdBzTthF0biW8iM69hwJ","addAddress");var n=e("personMsg");cc.Class({extends:cc.Component,properties:{PerName:cc.EditBox,phone:cc.EditBox,address:cc.EditBox},onLoad:function(){},addAressClik:function(){n.name=this.PerName.string,n.phone=this.phone.string,n.address=this.address.string},start:function(){}}),cc._RF.pop()},{personMsg:"personMsg"}],animate:[function(e,t,c){"use strict";cc._RF.push(t,"629c4ZRfhBNfqBAU8qTQwIN","animate"),cc.Class({extends:cc.Component,properties:{sideBar:{type:cc.Node,default:null},center1:{type:cc.Node,default:null},center2:{type:cc.Node,default:null},center3:{type:cc.Node,default:null},center4:{type:cc.Node,default:null},shouchong:{type:cc.Node,default:null}},onLoad:function(){this.removeNode()},removeNode:function(){var t=this,e=cc.spawn(cc.fadeTo(.5,255),cc.moveTo(.1,cc.p(950,0)));this.center1.runAction(e);var c=cc.spawn(cc.fadeTo(.5,255),cc.moveTo(.2,cc.p(1116,-12)));this.center2.runAction(c);var n=cc.spawn(cc.fadeTo(.5,255),cc.moveTo(.3,cc.p(870,2)));this.center3.runAction(n);var i=cc.spawn(cc.fadeTo(.5,255),cc.moveTo(.4,cc.p(550,-15)));this.center4.runAction(i);var o=cc.spawn(cc.fadeTo(.5,255),cc.moveTo(.4,cc.p(565,18)));t.sideBar.runAction(o),this.scheduleOnce(function(){var e=cc.jumpBy(2,cc.p(0,0),20,4);t.shouchong.runAction(e)},.8)},start:function(){}}),cc._RF.pop()},{}],backpackGoods:[function(e,t,c){"use strict";cc._RF.push(t,"e8fc10Q3JRC8YvrbJGe2Pyl","backpackGoods"),cc.Class({extends:cc.Component,properties:{goodsItem:{type:cc.Prefab,default:null},packbackScrollView:{type:cc.ScrollView,default:null}},onLoad:function(){for(var e=0;e<6;e++){var t=cc.instantiate(this.goodsItem);0==e&&(t.children[0].getComponent(cc.Toggle).isChecked=!0),this.packbackScrollView.content.addChild(t)}},start:function(){}}),cc._RF.pop()},{}],chooseSite:[function(e,t,c){"use strict";cc._RF.push(t,"80259f5GOVDl6InUc8MB46V","chooseSite");var n=e("globel");cc.Class({extends:cc.Component,properties:{yuleSite:{type:cc.Node,default:null},fiveHairSite:{type:cc.Node,default:null},OneYuanSite:{type:cc.Node,default:null},chooseNumber:0,tipPrefab:{type:cc.Prefab,default:null},headPic:{type:cc.Node,default:null},nickName:{type:cc.Node,default:null},backDialogRoot:{type:cc.Node,default:null},exchangeDialog:{type:cc.Node,default:null}},onLoad:function(){cc.director.preloadScene("gameScene"),this.yuleSite.on("touchstart",function(){n.siteNum=1,cc.director.loadScene("gameScene")}),this.fiveHairSite.on("touchstart",function(){cc.director.loadScene("gameScene"),n.siteNum=2}),this.OneYuanSite.on("touchstart",function(){cc.director.loadScene("gameScene"),n.siteNum=3}),this.userMsg()},error:function(){var e=cc.instantiate(this.tipPrefab);this.node.addChild(e);e.getComponent("error_tip").tipLabelChange("暂未开放，敬请期待！")},userMsg:function(){var c=this;cc.loader.load({url:n.avatarUrl,type:"png"},function(e,t){t&&(c.headPic.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),c.nickName.getComponent(cc.Label).string=n.userInfo.nickName)})},start:function(){}}),cc._RF.pop()},{globel:"globel"}],clipCollider:[function(e,t,c){"use strict";cc._RF.push(t,"9e1ad9hFjNC7LCBOl3ecerH","clipCollider");var l=e("globel"),n=cc.Class({name:"prop",properties:{id:0,itemName:"",iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{pigPrefab:{type:cc.Prefab,default:null},pandaPrefab:{type:cc.Prefab,default:null},bearPrefab:{type:cc.Prefab,default:null},clipdollsRoot:{type:cc.Node,default:null},bg_bottom0:{type:cc.Node,default:null},bg_bottom1:{type:cc.Node,default:null},ToolsSpriteFrame:{type:n,default:[]}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.collider=!1},onCollisionEnter:function(r,e){this.collider=!0;var s=this,t=r.node.children;this.Clipdolls=t[0],this.bg_bottom1.active=!1,this.bg_bottom0.active=!0,this.Clipdolls.parent=this.clipdollsRoot;var a=this.Clipdolls.children[0].name,c=this.Clipdolls.children[0];switch(a){case"brand":this.prizeName=c.getChildByName("prizeName").getComponent(cc.Label).string;break;case"gold":this.prizeName=c.getChildByName("goldNum").getComponent(cc.Label).string;break;case"wallet":this.prizeName=c.getChildByName("bean").getComponent(cc.Label).string}if(l.prizeName=this.prizeName,this.scheduleOnce(function(){if(1==l.siteNum)var e=cc.instantiate(this.pigPrefab);else if(2==l.siteNum)e=cc.instantiate(this.pandaPrefab);else if(3==l.siteNum)e=cc.instantiate(this.bearPrefab);r.node.addChild(e);var t=r.node.children[0],c=t.getChildByName("brand"),n=t.getChildByName("wallet"),i=t.getChildByName("gold");switch(a){case"brand":for(var o in n.destroy(),i.destroy(),s.ToolsSpriteFrame)c.children[0].getComponent(cc.Sprite).spriteFrame=s.ToolsSpriteFrame[o].iconSF,c.children[1].getComponent(cc.Label).string=l.prizeName;break;case"gold":n.destroy(),c.destroy(),i.children[0].getComponent(cc.Label).string=s.prizeName;break;case"wallet":c.destroy(),i.destroy(),n.children[0].getComponent(cc.Label).string=s.prizeName}r.node.active=!1},.1),cc.winSize.width<1281)var n=6.7;else n=8;this.scheduleOnce(function(){r.node.active=!0},n)},start:function(){}}),cc._RF.pop()},{globel:"globel"}],dialog:[function(e,t,c){"use strict";cc._RF.push(t,"22646Nk7OxCpZMG6zhazUW8","dialog"),cc.Class({extends:cc.Component,properties:{dialogRoot:{type:cc.Node,default:null},mask:{type:cc.Node,default:null},dialogUi:{type:cc.Node,default:null},scrollviewBox:{type:cc.Node,default:null}},onLoad:function(){},dialog_show:function(){var e=cc.fadeTo(.3,160);this.mask.runAction(e),this.dialogRoot.active=!0,this.dialogUi.scale=0;var t=cc.scaleTo(.3,1).easing(cc.easeBackOut());if(this.dialogUi.runAction(t),null!=this.scrollviewBox){this.scrollviewBox.scale=0;var c=cc.scaleTo(.3,1).easing(cc.easeBackOut());this.scrollviewBox.runAction(c)}},dialog_hide:function(){var e=this,t=cc.fadeOut(.3);this.mask.runAction(t);var c=cc.scaleTo(.3,0).easing(cc.easeBackIn()),n=cc.callFunc(function(){e.dialogRoot.active=!1}),i=cc.sequence(c,n);if(this.dialogUi.runAction(i),null!=this.scrollviewBox){var o=cc.scaleTo(.3,0).easing(cc.easeBackIn()),r=(n=cc.callFunc(function(){e.dialogRoot.active=!1}),cc.sequence(o,n));this.scrollviewBox.runAction(r)}},start:function(){}}),cc._RF.pop()},{}],dollsCollider:[function(e,t,c){"use strict";cc._RF.push(t,"ad743oGuHhNDKw0pJ+dJ79o","dollsCollider");e("http");var l=e("globel"),n=cc.Class({name:"tool",properties:{id:0,itemName:"",iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{playerlist:{type:cc.Node,default:null},isCollider:!1,ToolsSpriteFrame:{type:n,default:[]},pigPrefab:{type:cc.Prefab,default:null},pandaPrefab:{type:cc.Prefab,default:null},bearPrefab:{type:cc.Prefab,default:null},direction:""},onLoad:function(){cc.director.getCollisionManager().enabled=!0,"right"==this.direction&&(this.typeCount=12),"left"==this.direction&&(this.typeCount=17)},onCollisionEnter:function(e,t){if(this.isCollider=!0,this.other=e,this.typeCount++,this.typeCount<=l.typeArr.length){var c=l.typeArr[this.typeCount-1],n=this.other.node.children[0];switch(null!=n&&n.removeFromParent(),l.siteNum){case 1:var i=cc.instantiate(this.pigPrefab);break;case 2:i=cc.instantiate(this.pandaPrefab);break;case 3:i=cc.instantiate(this.bearPrefab)}this.other.node.addChild(i);var o=this.other.node.children[0],r=o.getChildByName("brand"),s=o.getChildByName("wallet"),a=o.getChildByName("gold");switch(c[0]){case"gift":s.destroy(),a.destroy(),r.children[0].getComponent(cc.Sprite).spriteFrame=this.ToolsSpriteFrame[0].iconSF,r.children[1].getComponent(cc.Label).string=l.typeArr[this.typeCount-1][1].name;break;case"gold":r.destroy(),a.destroy();break;case"zhuanshi":r.destroy(),s.destroy()}this.typeCount==l.typeArr.length&&(this.typeCount=0)}},start:function(){},update:function(e){if(this.isCollider){if("right"==this.direction){var t=cc.winSize.width;this.other.node.x=t<=1281?-810:-680}if("left"==this.direction){var c=cc.winSize.width;this.other.node.x=c<=1281?-450:-670}}}}),cc._RF.pop()},{globel:"globel",http:"http"}],dollsMove:[function(e,t,c){"use strict";cc._RF.push(t,"74d9cFJM8xLSb1gl4aOnhwV","dollsMove");e("http");var s=e("globel"),n=cc.Class({name:"tools",properties:{id:0,itemName:"",iconSF:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{speed:0,dollList:{type:cc.Node,default:null},reverseList:{type:cc.Node,default:null},pigPrefab:{type:cc.Prefab,default:null},pandaPrefab:{type:cc.Prefab,default:null},bearPrefab:{type:cc.Prefab,default:null},ToolsSpriteFrame:{type:n,default:[]}},onLoad:function(){this.playerlist(),this.replayerlist()},playerlist:function(){var e=this.dollList;s.is_httpConect&&this.dollsinit(e)},replayerlist:function(){var e=this.reverseList;s.is_httpConect&&this.dollsinit(e)},dollsinit:function(e){for(var t=0;t<e.children.length;t++){switch(s.siteNum){case 1:var c=cc.instantiate(this.pigPrefab);break;case 2:c=cc.instantiate(this.pandaPrefab);break;case 3:c=cc.instantiate(this.bearPrefab)}e.children[t].addChild(c);var n=s.typeArr[t],i=e.children[t].children[0];this.dollsSkin(e,i,n,t)}},dollsSkin:function(e,t,c,n){var i=t.getChildByName("brand"),o=t.getChildByName("wallet"),r=t.getChildByName("gold");switch(c[0]){case"gift":o.destroy(),r.destroy(),i.children[0].getComponent(cc.Sprite).spriteFrame=this.ToolsSpriteFrame[0].iconSF,i.children[1].getComponent(cc.Label).string=s.typeArr[n][1].name;break;case"gold":i.destroy(),r.destroy(),o.children[0].getComponent(cc.Label).string=this.listdata[0].children[n].name;break;case"zhuanshi":i.destroy(),o.destroy(),r.children[0].getComponent(cc.Label).string=this.listdata[0].children[n].name}},start:function(){},update:function(e){this.speed=100;for(var t=this.speed*e,c=0;c<this.dollList.children.length;c++)this.dollList.children[c].x+=t;for(var n=0;n<this.reverseList.children.length;n++)this.reverseList.children[n].x-=t}}),cc._RF.pop()},{globel:"globel",http:"http"}],error_tip:[function(e,t,c){"use strict";cc._RF.push(t,"1bcdeN9sqVMZZ2Zl5M6HfrD","error_tip"),cc.Class({extends:cc.Component,properties:{dialog_root:{type:cc.Node,default:null},mask:{type:cc.Node,default:null},tip_dialog:{type:cc.Node,default:null},tipLabel:cc.Label},onLoad:function(){this.dialog_show()},tipLabelChange:function(e){this.tipLabel.string=e},dialog_show:function(){var e=cc.fadeTo(.3,128);this.mask.runAction(e),this.dialog_root.active=!0,this.tip_dialog.scale=0;var t=cc.scaleTo(.3,1).easing(cc.easeBackOut());this.tip_dialog.runAction(t)},dialog_hide:function(){var e=this,t=cc.fadeOut(.3);this.mask.runAction(t);var c=cc.scaleTo(.3,0).easing(cc.easeBackIn()),n=cc.callFunc(function(){e.dialog_root.active=!1}),i=cc.sequence(c,n);this.tip_dialog.runAction(i)},start:function(){}}),cc._RF.pop()},{}],exchangeMsg:[function(e,t,c){"use strict";cc._RF.push(t,"5e19239fz5L6ot3UXz+uhC4","exchangeMsg");var n=e("personMsg");cc.Class({extends:cc.Component,properties:{pername:cc.Label,phone:cc.Label,address:cc.Label},onLoad:function(){this.pername.string=n.name,this.phone.string=n.phone,this.address.string=n.address},start:function(){}}),cc._RF.pop()},{personMsg:"personMsg"}],extend:[function(e,t,c){"use strict";cc._RF.push(t,"a9ba2Z0/mBLB4h/ta2bhcbR","extend"),DataView.prototype.writeUTF8Str=function(e,t){for(var c=e,n=this,i=0;i<t.length;i++){var o=t.charCodeAt(i);o<128?n.setUint8(c,o):(o<2048?n.setUint8(c,192|o>>6):(o<55296||57344<=o?n.setUint8(c,224|o>>12):(i++,o=65536+((1023&o)<<10|1023&t.charCodeAt(i)),n.setUint8(c,240|o>>18),c++,n.setUint8(c,128|o>>12&63)),c++,n.setUint8(c,128|o>>6&63)),c++,n.setUint8(c,128|63&o)),c++}},DataView.prototype.readUTF8Str=function(e,t){var c,n,i,o,r,s;for(c="",i=e+t,n=e;n<i;)switch(o=this.getUint8(n),n++,o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c+=String.fromCharCode(o);break;case 12:case 13:r=array[n++],c+=String.fromCharCode((31&o)<<6|63&r);break;case 14:r=this.getUint8(n),n++,s=this.getUint8(n),n++,c+=String.fromCharCode((15&o)<<12|(63&r)<<6|(63&s)<<0)}return c},String.prototype.utf8StrLength=function(){var e,t,c=0;for(e=0;e<this.length;e++)(t=this.charCodeAt(e))<127?c+=1:128<=t&&t<=2047?c+=2:2048<=t&&t<=65535&&(c+=3);return c},cc._RF.pop()},{}],game:[function(e,t,c){"use strict";cc._RF.push(t,"5fb149WcMtBe73QxLGm6eQb","game");var x=e("globel"),P=e("service");cc.Class({extends:cc.Component,properties:{back:{type:cc.Node,default:null},StartBtn:{type:cc.Node,default:null},siteName:cc.Node,clip:{type:cc.Node,default:[]},clipSkin:{type:cc.SpriteFrame,default:[]},rope:{type:cc.Node,default:null},ropeSkin:{type:cc.SpriteFrame,default:[]},tableExit:{type:cc.Node,default:null},pigSkin:{type:cc.SpriteFrame,default:[]},pandaSkin:{type:cc.SpriteFrame,default:[]},bearSkin:{type:cc.SpriteFrame,default:[]},bg_bottom0:{type:cc.Node,default:null},bg_bottom1:{type:cc.Node,default:null},winAlert:{type:cc.Node,default:null},backPage:{type:cc.Node,default:null},branch:{type:cc.Node,default:null},branchLabel:{type:cc.Label,default:null},goldLabel:{type:cc.Label,default:null},energyBar:{type:cc.Node,default:null},clipdollsRoot:{type:cc.Node,default:null},winSound:{url:cc.AudioClip,default:null},errorSound:{url:cc.AudioClip,default:null},win:1,clipTrueDialog:{type:cc.Node,default:null},clipPlayer:{type:cc.Node,default:null}},winAlertShow:function(){if(this.win){var e=cc.moveTo(.5,cc.p(-490,100));this.winAlert.runAction(e)}},onLoad:function(){var R=x.siteNum;cc.game.setFrameRate(30),this.winAlertShow(),this.init(R);var B=this;cc.director.preloadScene("chooseSite"),this.back.on("touchstart",function(){cc.director.loadScene("chooseSite")}),this.StartBtn.on("touchstart",function(){if(console.log(B.is_throwing),B.progressLoad=B.energyBar.getComponent(cc.ProgressBar),B.progressLoad.progress-=.35,!B.is_throwing){B.is_throwing=!0;var e=cc.moveTo(.7,cc.p(0,200)),t=Math.round(100*Math.random()+320);console.log(t);var c=cc.moveTo(.5,cc.p(0,t)),n=cc.callFunc(function(){var e=cc.rotateTo(.1,15),t=cc.rotateTo(.2,-13),c=cc.rotateTo(.2,10),n=cc.rotateTo(.2,-10),i=cc.rotateTo(.2,13),o=cc.rotateTo(.2,-15),r=cc.rotateTo(.2,0),s=cc.sequence(e,t,c,n,i,o,r);B.clip.runAction(s)}),i=cc.callFunc(function(){var e=B.clip.getComponent(cc.Animation);1==R?e.play("woodClip"):2==R?e.play("silveryClip"):e.play("goldClip")}),o=cc.callFunc(function(){var e=B.clip.getComponent(cc.Animation);1==R?e.play("reverseWoodClip"):2==R?e.play("reverseSilveryClip"):e.play("reverseGoldClip")});B.clipTrue=Math.round(Math.random());var r=cc.callFunc(function(){console.log("我调试："+B.clip.getComponent("clipCollider").collider);var e=B.clip.getComponent("clipCollider").collider;P.clipGifts(x.prizeName);var t=null;switch(R){case 1:t=B.pigSkin[1];break;case 2:t=B.pandaSkin[1];break;case 3:t=B.bearSkin[1]}if(e){var c=B.clip.getComponent("clipCollider").Clipdolls;if(c.getComponent(cc.Sprite).spriteFrame=t,B.clipTrue){B.branch.active=!0;B.branch.string=588;var n=B.goldLabel.getComponent(cc.Label).string,i=588+Number(n);B.goldLabel.getComponent(cc.Label).string=i;var o=cc.fadeIn(.1,1),r=cc.moveBy(.5,cc.p(0,50)),s=cc.fadeOut(.1,0),a=cc.moveTo(.5,cc.p(360,285)),l=cc.callFunc(function(){B.branch.active=!1});B.branch.runAction(cc.sequence(o,r,s,a,l));var p=cc.delayTime(.7),u=null,d=cc.callFunc(function(){switch(R){case 1:u=B.pigSkin[0];break;case 2:u=B.pandaSkin[0];break;case 3:u=B.bearSkin[0]}c.getComponent(cc.Sprite).spriteFrame=u,console.log(u)}),h=cc.scaleTo(.5,.3),f=cc.callFunc(function(){B.playWinSound()}),g=cc.callFunc(function(){B.clipPlayer.getComponent(cc.Sprite).spriteFrame=u,B.clipTrueDialog.getComponent("dialog").dialog_show()}),m=B.backPage.getPosition(),y=cc.moveTo(.7,m).easing(cc.easeCircleActionInOut()),b=cc.callFunc(function(){c.destroy()}),v=cc.sequence(p,d,h,g,f,y,b);c.runAction(v);var C=cc.delayTime(1.5),S=cc.jumpBy(.5,cc.p(0,0),20,2),_=cc.sequence(C,S);B.backPage.runAction(_)}else{B.tableExit.active=!0;var F=cc.callFunc(function(){B.bg_bottom1.active=!0,B.bg_bottom0.active=!1}),w=cc.callFunc(function(){B.playErrorSound()}),k=cc.moveTo(1,cc.p(0,-475)),N=cc.callFunc(function(){c.removeFromParent(),c.destroy()}),T=cc.sequence(F,w,k,N);B.scheduleOnce(function(){c.runAction(T)},1),B.scheduleOnce(function(){B.tableExit.active=!1},2)}}}.bind(this)),s=cc.callFunc(function(){B.scheduleOnce(function(){var e=cc.moveTo(.4,cc.p(0,480));B.rope.runAction(e)},2),B.scheduleOnce(function(){B.is_throwing=!1},2.5)}.bind(this)),a=cc.sequence(e,c,n,r,s);B.rope.runAction(a);var l=cc.sequence(i,o);B.clip.runAction(l)}})},init:function(e){switch(this.rope.getComponent(cc.Sprite).spriteFrame=this.ropeSkin[e-1],this.clip.getComponent(cc.Sprite).spriteFrame=this.clipSkin[e-1],e){case 1:this.siteName.getComponent(cc.RichText).string="<outline color=#6b2a11 width=2><b>娱 乐 场</b></outline>";break;case 2:this.siteName.getComponent(cc.RichText).string="<outline color=#6b2a11 width=2><b>五 毛 场</b></outline>";break;case 3:this.siteName.getComponent(cc.RichText).string="<outline color=#6b2a11 width=2><b>一 元 场</b></outline>"}},start:function(){},playWinSound:function(){cc.audioEngine.playEffect(this.winSound,!1,1)},playErrorSound:function(){cc.audioEngine.playEffect(this.errorSound,!1,1)},update:function(e){}}),cc._RF.pop()},{globel:"globel",service:"service"}],getData:[function(e,t,c){"use strict";cc._RF.push(t,"77c25AUCkdAP7TGHseJLY0l","getData");var i=e("globel"),n=e("http"),o=i.url;cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.getData(),this.musicPlay()},getData:function(){n.get(o+"jsonTest/gifts.json",function(e,t){if(t)console.log(t);else for(var c in i.is_httpConect=!0,this.listdata=JSON.parse(e),this.listdata)for(var n in this.listdata[c]){i.typeArr.push(["gift",this.listdata[c][n]])}}.bind(this))},musicPlay:function(){cc.loader.load(o+"bgMusic.mp3",function(e,t){e?console.log(error):i.music=t}.bind(this))},start:function(){}}),cc._RF.pop()},{globel:"globel",http:"http"}],getMsg:[function(e,t,c){"use strict";cc._RF.push(t,"2c63c9T1J9JR7t73KhkgXQC","getMsg");var n=e("globel");cc.Class({extends:cc.Component,properties:{avatarImg:{type:cc.Sprite,default:null},nickName:cc.Label},onLoad:function(){this.getMessage()},getMessage:function(){cc.loader.load({url:n.avatarUrl,type:"png"},function(e,t){t&&(this.avatarImg.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(t),this.nickName.string=n.userInfo.nickName)}.bind(this))},start:function(){}}),cc._RF.pop()},{globel:"globel"}],globel:[function(e,t,c){"use strict";cc._RF.push(t,"041c1aaG61DjKhSwhXaTRxb","globel"),t.exports={url:"https://clipdolls-1257092076.file.myqcloud.com/",siteNum:1,prizeName:"",userInfo:"",avatarUrl:"",is_httpConect:!1,typeArr:[],music:""},cc._RF.pop()},{}],headerInfo:[function(e,t,c){"use strict";cc._RF.push(t,"4fca786PflGEor2beakoFgc","headerInfo");var n=function(){function n(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,c){return t&&n(e.prototype,t),c&&n(e,c),e}}();var i=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),e=e||{ctype:0,utag:0,dataType:0},this._stype=0,this._ctype=0,this.ctype=e.ctype?e.ctype:0,this.utag=e.utag?e.utag:0,this.dataType=e.dataType?e.dataType:0}return n(t,[{key:"ctype",get:function(){return this._ctype},set:function(e){this._ctype=e,this._stype=this._ctype>>16}},{key:"stype",get:function(){return this._stype}}]),t}();t.exports=i,cc._RF.pop()},{}],http:[function(e,t,c){"use strict";cc._RF.push(t,"bf0c5KfrIRBy6XO61WLdIr0","http");var n={get:function(e,t){var c=cc.loader.getXMLHttpRequest();c.onreadystatechange=function(){if(4===c.readyState&&200<=c.status&&c.status<300){var e=c.responseText;t(e)}},c.open("GET",e,!0),cc.sys.isNative&&c.setRequestHeader("Accept-Encoding","gzip,deflate"),c.timeout=5e3,c.send()},post:function(e,t,c){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(cc.log("xhr.readyState="+n.readyState+"  xhr.status="+n.status),4===n.readyState&&200<=n.status&&n.status<300){var e=n.responseText;c(e)}else c(-1)},n.open("POST",e,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.timeout=5e3,n.send(t)}};t.exports=n,cc._RF.pop()},{}],loading:[function(e,t,c){"use strict";cc._RF.push(t,"8466buy4fJKW7F51AEMfw7n","loading");var n=e("globel");cc.Class({extends:cc.Component,properties:{loaderBar:cc.ProgressBar,percentText:{type:cc.Label,default:null}},loadFunc:function(){var o=this;cc.loader.onProgress=function(e,t,c){var n=e/t,i=Math.floor(100*e/t);o.loaderBar.progress=n,o.percentText.string=i+"%"},cc.director.preloadScene("chooseSite",function(){cc.loader.onProgress=null,cc.director.loadScene("chooseSite")})},onLoad:function(){cc.game.setFrameRate(30),this.userLogin()},userLogin:function(){var t=this;wx.login({success:function(){wx.getUserInfo({success:function(e){n.userInfo=e.userInfo,n.avatarUrl=e.userInfo.avatarUrl,t.loadFunc()}})}})},start:function(){}}),cc._RF.pop()},{globel:"globel"}],login:[function(e,t,c){"use strict";cc._RF.push(t,"49f83qRqx1LN79b+mbyg4RO","login");var o=e("websocket"),r=e("headerInfo"),s=e("Ctype"),a=e("protoManager"),n={login:function(e,t){var c=new r({ctype:s.auth.LOGIN_REQ,dataType:0}),n={user:e,pwd:t},i=a.encodeJsonMsg(c,n);window.setTimeout(function(){o.send_msg(i)},.1)},login_res:function(e){switch(e){case 0:console.log("用户名或密码错误！")}}};t.exports=n,cc._RF.pop()},{Ctype:"Ctype",headerInfo:"headerInfo",protoManager:"protoManager",websocket:"websocket"}],notice:[function(e,t,c){"use strict";cc._RF.push(t,"9e231xuRf5D27tcodFDyydG","notice"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){}}),cc._RF.pop()},{}],packageReader:[function(e,t,c){"use strict";cc._RF.push(t,"68c48RhKdROTbUxSichHe83","packageReader");var n=function(){function n(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,c){return t&&n(e.prototype,t),c&&n(e,c),e}}();var i=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this._buf=new DataView(e),this._position=0}return n(t,[{key:"unreadCount",get:function(){return this._unreadCount}},{key:"position",get:function(){return this._position},set:function(e){this._position=e,this._unreadCount=this._buf.length-this.position}}]),n(t,[{key:"readInt8",value:function(){var e=this._buf.getInt8(this.position);return this.position++,e}},{key:"readInt16",value:function(){var e=this._buf.getInt16(this.position);return this.position+=2,e}},{key:"readInt32",value:function(){var e=this._buf.getInt32(this.position);return this.position+=4,e}},{key:"readUInt32",value:function(){var e=this._buf.getUint32(this.position);return this.position+=4,e}},{key:"readUTF8Str",value:function(){var e=this.readInt16(),t=this._buf.readUTF8Str(this.position,e);return this.position+=e,t}}]),t}();t.exports=i,cc._RF.pop()},{}],packageWriter:[function(e,t,c){"use strict";cc._RF.push(t,"c5d62OHnGxAKqXlH/w9Uw7a","packageWriter");var n=function(){function n(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,c){return t&&n(e.prototype,t),c&&n(e,c),e}}();var i=function(){function t(e){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),this._buf=new DataView(e),this._position=0}return n(t,[{key:"unreadCount",get:function(){return this._unreadCount}},{key:"position",get:function(){return this._position},set:function(e){this._position=e,this._unreadCount=this._buf.length-this.position}}]),n(t,[{key:"writeInt8",value:function(e){this._buf.setInt8(this.position,e),this.position++}},{key:"writeInt16",value:function(e){this._buf.setInt16(this.position,e),this.position+=2}},{key:"writeInt32",value:function(e){this._buf.setInt32(this.position,e),this.position+=4}},{key:"writeUInt32",value:function(e){this._buf.setUint32(this.position,e),this.position+=4}},{key:"writeUTF8Str",value:function(e){var t=e.utf8StrLength();this.writeInt16(t),this._buf.writeUTF8Str(this.position,e),this.position+=t}},{key:"writeHeaderInfo",value:function(e){this.writeInt32(e.ctype),this.writeUInt32(e.utag),this.writeInt8(e.dataType)}}],[{key:"writeUtag",value:function(e,t){return e.writeUInt32(t)}},{key:"removeUtag",value:function(e){return e.writeUInt32(0)}}]),t}();i.headerSize=9,t.exports=i,cc._RF.pop()},{}],personMsg:[function(e,t,c){"use strict";cc._RF.push(t,"80ff7T+oCtB67Nh4tnS16JF","personMsg"),t.exports={name:"",phone:"",address:""},cc._RF.pop()},{}],protoManager:[function(e,t,c){"use strict";cc._RF.push(t,"60b0dqtzsRNOKTzbYc36Yno","protoManager");var n=function(){function n(e,t){for(var c=0;c<t.length;c++){var n=t[c];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,c){return t&&n(e.prototype,t),c&&n(e,c),e}}();var r=e("packageReader"),s=e("packageWriter"),i=e("headerInfo"),o=function(){function o(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}return n(o,null,[{key:"readHeaderInfo",value:function(e){if(e.length<9)return null;var t=new r(e),c=new i;return c.ctype=t.readInt32(),c.utag=t.readUInt32(),c.dataType=t.readInt8(),c}},{key:"getKey",value:function(e,t){return 65536*e+t}},{key:"encodeMsg",value:function(e,t){var c=void 0;switch(e.dataType){case 0:case 1:c=o.encodeJsonMsg(e,arrbuffer)}return c}},{key:"decodeMsg",value:function(e,t){var c=void 0;switch(e.dataType){case 0:c=o.decodeJsonMsg(e,t);break;case 1:c=o.encodeBuffMsg(e,t)}return c}},{key:"encodeJsonMsg",value:function(e,t){var c=JSON.stringify(t),n=11+c.utf8StrLength(),i=new ArrayBuffer(n),o=new s(i);return o.writeHeaderInfo(e),o.writeUTF8Str(c),i}},{key:"decodeJsonMsg",value:function(e,t){var c=void 0,n=new r(t);n.position=9;var i=n.readUTF8Str();try{c=JSON.parse(i)}catch(e){console.error("JSON消息解码错误:",e)}return c}},{key:"encodeBuffMsg",value:function(e,t){var c=o.getKey(e.stype,e.ctype),n=o.encoders[c];return n?n(e,t):null}},{key:"decodeBuffMsg",value:function(e,t){var c=new DataView(t),n=o.getKey(e.stype,e.ctype),i=o.decoders[n];return i?(console.log("我在解码buffer"),i(c)):null}},{key:"regEncoder",value:function(e,t,c){var n=o.getKey(e,t);o.encoders[n]&&log.warn("stype: "+e+" ctype: "+t+"the encoder is reged!"),o.encoders[n]=c}},{key:"regDecoder",value:function(e,t,c){var n=o.getKey(e,t);o.decoders[n]&&log.warn("stype: "+e+" ctype: "+t+"the decoder is reged!"),o.decoders[n]=c}},{key:"writeUtag",value:function(e,t){return s.writeUtag(e,t)}},{key:"removeUtag",value:function(e){return s.removeUtag(e)}}]),o}();o.encoders={},o.decoders={},t.exports=o,cc._RF.pop()},{headerInfo:"headerInfo",packageReader:"packageReader",packageWriter:"packageWriter"}],service:[function(e,t,c){"use strict";cc._RF.push(t,"0a5b8B6TkVDxolQxmjB7Pn1","service");var n=e("websocket"),i={clipGifts:function(e){var t={giftname:e};window.setTimeout(function(){n.send_msg(t)},.1)}};t.exports=i,cc._RF.pop()},{websocket:"websocket"}],setting:[function(e,t,c){"use strict";cc._RF.push(t,"f7e55KN5TdNYre23oeuF6fe","setting");var n=e("globel");cc.Class({extends:cc.Component,properties:{music:{type:cc.AudioSource,default:null},effSwitchBtn:{type:cc.Node,default:null},musicSwitchBtn:{type:cc.Node,default:null},keepScreenBtn:{type:cc.Node,default:null}},onLoad:function(){this.musicSwitch=!0,this.effSwitch=!0,this.screenSwitch=!1},musicPlay:function(){""!=n.music&&(this.music.loop=!0,this.music.clip=n.music,console.log(this.music.isPlaying),this.music.isPlaying||(this.music.clip=n.music,this.music.play(),console.log("开始播放")))},MusicClick:function(){this.musicSwitch?this.musicSwitchBtn.x=-57:this.musicSwitchBtn.x=58,this.musicSwitch=!this.musicSwitch},effClick:function(){this.effSwitch?this.effSwitchBtn.x=-58:this.effSwitchBtn.x=58,this.effSwitch=!this.effSwitch},keepScreenClick:function(){this.screenSwitch?this.keepScreenBtn.x=-57:this.keepScreenBtn.x=58,this.screenSwitch=!this.screenSwitch},setScreenOn:function(){wx.setKeepScreenOn({keepScreenOn:!0})},setScreenOff:function(){wx.setKeepScreenOn({keepScreenOn:!1})},okBtn:function(){this.musicSwitch?this.music.play():this.music.stop(),this.screenSwitch?this.setScreenOn():this.setScreenOff()},start:function(){this.musicPlay()}}),cc._RF.pop()},{globel:"globel"}],share:[function(e,t,c){"use strict";cc._RF.push(t,"87987hoQ79Huq8ZIXF1i55j","share"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.share()},share:function(){wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:"转发标题",imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400})}})},wxShare:function(){wx.shareAppMessage(function(){return{title:"转发标题",imageUrl:canvas.toTempFilePathSync({destWidth:500,destHeight:400})}})},start:function(){}}),cc._RF.pop()},{}],shopBtnStatus:[function(e,t,c){"use strict";cc._RF.push(t,"6c94fC9NsxHVpIVOnNRFZVF","shopBtnStatus"),cc.Class({extends:cc.Component,properties:{gold_normal:cc.SpriteFrame,gold_selected:cc.SpriteFrame,diamonds_normal:cc.SpriteFrame,diamonds_selected:cc.SpriteFrame,prop_normal:cc.SpriteFrame,prop_selected:cc.SpriteFrame,gift_normal:cc.SpriteFrame,gift_selected:cc.SpriteFrame},onLoad:function(){this.goldBtn=this.node.getChildByName("gold"),this.diamondsBtn=this.node.getChildByName("diamonds"),this.propBtn=this.node.getChildByName("prop"),console.log(this.propBtn),this.giftBtn=this.node.getChildByName("gift")},goldToggle:function(){this.goldBtn.getComponent(cc.Sprite).spriteFrame=this.gold_selected,this.diamondsBtn.getComponent(cc.Sprite).spriteFrame=this.diamonds_normal,this.propBtn.getComponent(cc.Sprite).spriteFrame=this.prop_normal,this.giftBtn.getComponent(cc.Sprite).spriteFrame=this.gift_normal},diamondsToggle:function(){this.goldBtn.getComponent(cc.Sprite).spriteFrame=this.gold_normal,this.diamondsBtn.getComponent(cc.Sprite).spriteFrame=this.diamonds_selected,this.propBtn.getComponent(cc.Sprite).spriteFrame=this.prop_normal,this.giftBtn.getComponent(cc.Sprite).spriteFrame=this.gift_normal},propToggle:function(){this.goldBtn.getComponent(cc.Sprite).spriteFrame=this.gold_normal,this.diamondsBtn.getComponent(cc.Sprite).spriteFrame=this.diamonds_normal,this.propBtn.getComponent(cc.Sprite).spriteFrame=this.prop_selected,this.giftBtn.getComponent(cc.Sprite).spriteFrame=this.gift_normal},giftToggle:function(){this.goldBtn.getComponent(cc.Sprite).spriteFrame=this.gold_normal,this.diamondsBtn.getComponent(cc.Sprite).spriteFrame=this.diamonds_normal,this.propBtn.getComponent(cc.Sprite).spriteFrame=this.prop_normal,this.giftBtn.getComponent(cc.Sprite).spriteFrame=this.gift_selected},start:function(){}}),cc._RF.pop()},{}],shop:[function(e,t,c){"use strict";cc._RF.push(t,"18ab2iQbmRFPK1DlIl057JX","shop");var n=e("globel"),i=e("http"),o=n.url,r=cc.Class({name:"goldItemImg",properties:{name:"",itemSprite:cc.SpriteFrame}}),s=cc.Class({name:"diamondsItemImg",properties:{name:"",itemSprite:cc.SpriteFrame}}),a=cc.Class({name:"propItemImg",properties:{name:"",itemSprite:cc.SpriteFrame}}),l=cc.Class({name:"giftItemImg",properties:{name:"",itemSprite:cc.SpriteFrame}});cc.Class({extends:cc.Component,properties:{goldPrefab:cc.Prefab,diamondsPrefab:cc.Prefab,propPrefab:cc.Prefab,giftPrefab:cc.Prefab,shopScrollView:{type:cc.ScrollView,default:null},glodType:{type:r,default:[]},diamondsType:{type:s,default:[]},propType:{type:a,default:[]},giftType:{type:l,default:[]}},onLoad:function(){this.getShopData()},getShopData:function(){i.get(o+"jsonTest/shop_test.json",function(e){if(e){var t=JSON.parse(e);this.goldData=t.gold,this.diamondsData=t.diamonds,this.propData=t.prop,this.giftData=t.gift,this._gen_Item(this.goldData,this.goldPrefab,this.glodType)}else console.log(err)}.bind(this))},goldsPanel:function(){this.shopScrollView.content.removeAllChildren(),this._gen_Item(this.goldData,this.goldPrefab,this.glodType)},diamondsPanel:function(){this.shopScrollView.content.removeAllChildren(),this._gen_Item(this.diamondsData,this.diamondsPrefab,this.diamondsType)},propPanel:function(){this.shopScrollView.content.removeAllChildren(),this._gen_Item(this.propData,this.propPrefab,this.propType)},giftPanel:function(){this.shopScrollView.content.removeAllChildren(),this._gen_Item(this.giftData,this.giftPrefab,this.giftType)},_gen_Item:function(e,t,c){for(var n=0;n<e.length;n++){var i=cc.instantiate(t);if(this.shopScrollView.content.addChild(i),e!=this.giftData)i.getChildByName("name").getChildByName("num").getComponent(cc.Label).string=e[n].num;i.getChildByName("priceBg").getChildByName("price").getComponent(cc.Label).string=e[n].price;for(var o=0;o<c.length;o++){if(c[o].name==e[n].imgName)i.getChildByName("img").getComponent(cc.Sprite).spriteFrame=c[o].itemSprite}}},start:function(){}}),cc._RF.pop()},{globel:"globel",http:"http"}],soundEffect:[function(e,t,c){"use strict";cc._RF.push(t,"0beb4sxKVBDT6HB3vMXuFaw","soundEffect"),cc.Class({extends:cc.Component,properties:{ButtonNode:{type:cc.Node,default:[]},Effect:{url:cc.AudioClip,default:null}},onLoad:function(){this.playClickSound()},playClickSound:function(){for(i=0;i<this.ButtonNode.length;i++)this.ButtonNode[i].on("touchstart",function(){cc.audioEngine.playEffect(this.Effect,!1,1)},this)},start:function(){}}),cc._RF.pop()},{}],test_login:[function(e,t,c){"use strict";cc._RF.push(t,"9521bumeipFCb6GHW96pTli","test_login");var n=e("login");cc.Class({extends:cc.Component,properties:{username:cc.EditBox,pwd:cc.EditBox,tipPrefab:{type:cc.Prefab,default:null}},onLoad:function(){},loginCheck:function(){var e=this.username.string,t=this.pwd.string;if(""!=e&&""!=t)n.login(e,t);else{this.show_tip("用户名或密码不能为空")}},show_tip:function(e){var t=cc.instantiate(this.tipPrefab);this.node.addChild(t),t.getComponent("error_tip").tipLabelChange(e)},start:function(){}}),cc._RF.pop()},{login:"login"}],test_socket:[function(e,t,c){"use strict";cc._RF.push(t,"e3b5a5KmjFOirFJf/H2YMPY","test_socket"),cc._RF.pop()},{}],websocket:[function(e,t,c){"use strict";cc._RF.push(t,"895820SAzdAJqavoclCRHFk","websocket");var n=e("protoManager"),i={sock:null,is_connected:!1,receiveDate:null,connect:function(e){this.sock=new WebSocket(e),this.sock.binaryType="arraybuffer",this.sock.onopen=this.on_open.bind(this),this.sock.onmessage=this.on_message.bind(this),this.sock.onerror=this.on_error.bind(this),this.sock.onclose=this.on_close.bind(this)},on_open:function(e){console.log("连接成功"),this.is_connected=!0},on_message:function(e){console.log("我收到信息了");var t=e.data,c=n.readHeaderInfo(t);this.receiveDate=n.decodeMsg(c,t),2==c.ctype&&console.log("我收到的是登录结果:"),console.log(this.receiveDate)},on_error:function(e){this.close()},on_close:function(e){this.sock&&this.close()},close:function(){this.is_connected=!1,null!==this.sock&&(this.sock.close(),this.sock=null)},send_msg:function(e){this.sock&&this.is_connected?(this.sock.send(e),console.log("信息发送成功")):console.log("信息发送失败")}};t.exports=i,cc._RF.pop()},{protoManager:"protoManager"}]},{},["extend","animate","chooseSite","getMsg","notice","share","dialog","dollsCollider","dollsMove","addAddress","backpackGoods","exchangeMsg","clipCollider","error_tip","game","getData","globel","loading","personMsg","setting","soundEffect","Ctype","headerInfo","http","packageReader","packageWriter","websocket","protoManager","login","service","shop","shopBtnStatus","test_login","test_socket"]);