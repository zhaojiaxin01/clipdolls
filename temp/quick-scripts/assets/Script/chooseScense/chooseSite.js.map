{"version":3,"sources":["chooseSite.js"],"names":["globel","require","cc","Class","extends","Component","properties","yuleSite","type","Node","default","fiveHairSite","OneYuanSite","chooseNumber","tipPrefab","Prefab","headPic","nickName","backDialogRoot","exchangeDialog","onLoad","self","director","preloadScene","on","siteNum","loadScene","userMsg","error","tip","instantiate","node","addChild","err","getComponent","tipLabelChange","loader","load","url","avatarUrl","texture","Sprite","spriteFrame","SpriteFrame","Label","string","userInfo","start"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,kBAAS;AACLC,kBAAKN,GAAGO,IADH;AAELC,qBAAQ;AAFH,SADD;AAKRC,sBAAa;AACTH,kBAAKN,GAAGO,IADC;AAETC,qBAAQ;AAFC,SALL;AASRE,qBAAY;AACRJ,kBAAKN,GAAGO,IADA;AAERC,qBAAQ;AAFA,SATJ;AAaRG,sBAAa,CAbL;AAcRC,mBAAU;AACNN,kBAAKN,GAAGa,MADF;AAENL,qBAAQ;AAFF,SAdF;AAkBRM,iBAAQ;AACJR,kBAAKN,GAAGO,IADJ;AAEJC,qBAAQ;AAFJ,SAlBA;AAsBRO,kBAAS;AACLT,kBAAKN,GAAGO,IADH;AAELC,qBAAQ;AAFH,SAtBD;AA0BRQ,wBAAe;AACXV,kBAAKN,GAAGO,IADG;AAEXC,qBAAQ;AAFG,SA1BP;AA8BRS,wBAAe;AACXX,kBAAKN,GAAGO,IADG;AAEXC,qBAAQ;AAFG;;AA9BP,KAHP;;AAwCL;;AAEAU,YAAO,kBAAY;AACf,YAAIC,OAAO,IAAX;AACAnB,WAAGoB,QAAH,CAAYC,YAAZ,CAAyB,WAAzB;;AAEA;AACA,aAAKhB,QAAL,CAAciB,EAAd,CAAiB,YAAjB,EAA8B,YAAU;AACpCxB,mBAAOyB,OAAP,GAAiB,CAAjB;AACAvB,eAAGoB,QAAH,CAAYI,SAAZ,CAAsB,WAAtB;AACH,SAHD;AAIA,aAAKf,YAAL,CAAkBa,EAAlB,CAAqB,YAArB,EAAkC,YAAU;AACxCtB,eAAGoB,QAAH,CAAYI,SAAZ,CAAsB,WAAtB;AACA1B,mBAAOyB,OAAP,GAAiB,CAAjB;AACH,SAHD;AAIA,aAAKb,WAAL,CAAiBY,EAAjB,CAAoB,YAApB,EAAiC,YAAU;AACvCtB,eAAGoB,QAAH,CAAYI,SAAZ,CAAsB,WAAtB;AACA1B,mBAAOyB,OAAP,GAAiB,CAAjB;AACH,SAHD;AAIA,aAAKE,OAAL;AACA;AAEH,KA9DI;;AAgEL;AACAC,WAAM,iBAAU;AACZ,YAAIC,MAAM3B,GAAG4B,WAAH,CAAe,KAAKhB,SAApB,CAAV;AACA,aAAKiB,IAAL,CAAUC,QAAV,CAAmBH,GAAnB;AACA,YAAII,MAAK,YAAT;AACAJ,YAAIK,YAAJ,CAAiB,WAAjB,EAA8BC,cAA9B,CAA6CF,GAA7C,EAJY,CAIuC;AACtD,KAtEI;AAuEL;AACAN,aAAQ,mBAAU;AACd,YAAIN,OAAO,IAAX;AACAnB,WAAGkC,MAAH,CAAUC,IAAV,CAAe,EAACC,KAAItC,OAAOuC,SAAZ,EAAsB/B,MAAK,KAA3B,EAAf,EAAiD,UAASyB,GAAT,EAAaO,OAAb,EAAqB;AAClE,gBAAGA,OAAH,EAAW;AACPnB,qBAAKL,OAAL,CAAakB,YAAb,CAA0BhC,GAAGuC,MAA7B,EAAqCC,WAArC,GAAmD,IAAIxC,GAAGyC,WAAP,CAAmBH,OAAnB,CAAnD,CADO,CACyE;AAChFnB,qBAAKJ,QAAL,CAAciB,YAAd,CAA2BhC,GAAG0C,KAA9B,EAAqCC,MAArC,GAA8C7C,OAAO8C,QAAP,CAAgB7B,QAA9D,CAFO,CAEiE;AAC3E;AACJ,SALD;AAOH,KAjFI;;AAoFL8B,WAAM,iBAAW,CAEhB;;AAED;AAxFK,CAAT","file":"chooseSite.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\chooseScense","sourcesContent":["var globel = require(\"globel\");\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        yuleSite:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        fiveHairSite:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        OneYuanSite:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        chooseNumber:0,\r\n        tipPrefab:{\r\n            type:cc.Prefab,\r\n            default:null\r\n        },\r\n        headPic:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        nickName:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        backDialogRoot:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        exchangeDialog:{\r\n            type:cc.Node,\r\n            default:null\r\n        }\r\n      \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad:function () {\r\n        var self = this;\r\n        cc.director.preloadScene(\"gameScene\");\r\n\r\n        // 根据选择的场景跳转\r\n        this.yuleSite.on(\"touchstart\",function(){\r\n            globel.siteNum = 1;\r\n            cc.director.loadScene(\"gameScene\");\r\n        });\r\n        this.fiveHairSite.on(\"touchstart\",function(){\r\n            cc.director.loadScene(\"gameScene\");\r\n            globel.siteNum = 2;\r\n        });\r\n        this.OneYuanSite.on(\"touchstart\",function(){\r\n            cc.director.loadScene(\"gameScene\");\r\n            globel.siteNum = 3;\r\n        });\r\n        this.userMsg();\r\n        // 音乐播放\r\n        \r\n    },\r\n    \r\n    // 错误提示框\r\n    error:function(){\r\n        let tip = cc.instantiate(this.tipPrefab);\r\n        this.node.addChild(tip);\r\n        let err= \"暂未开放，敬请期待！\"\r\n        tip.getComponent(\"error_tip\").tipLabelChange(err); // 改变文字\r\n    },\r\n    // 获取用户头像昵称\r\n    userMsg:function(){\r\n        var self = this;\r\n        cc.loader.load({url:globel.avatarUrl,type:\"png\"},function(err,texture){ \r\n            if(texture){\r\n                self.headPic.getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(texture); // 替换头像\r\n                self.nickName.getComponent(cc.Label).string = globel.userInfo.nickName; // 替换昵称\r\n            }\r\n        });\r\n        \r\n    },\r\n  \r\n\r\n    start:function() {\r\n       \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}