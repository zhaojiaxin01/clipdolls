{"version":3,"sources":["getData.js"],"names":["globel","require","http","url","cc","Class","extends","Component","properties","onLoad","getData","musicPlay","self","get","res","err","console","log","is_httpConect","listdata","JSON","parse","i","j","type","typeArr","push","bind","loader","load","ret","error","music","start"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,QAAR,CAAb;AACA,IAAIC,OAAOD,QAAQ,MAAR,CAAX;;AAEA,IAAME,MAAMH,OAAOG,GAAnB;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY,EAHP;;AAOL;;AAEAC,YAAO,kBAAW;AACd,aAAKC,OAAL;AACA,aAAKC,SAAL;AACH,KAZI;AAaL;AACAD,WAdK,qBAcI;AACL,YAAIE,OAAO,IAAX;AACAV,aAAKW,GAAL,CAASV,MAAI,qBAAb,EAAmC,UAASW,GAAT,EAAaC,GAAb,EAAiB;AAChD,gBAAGA,GAAH,EAAO;AACHC,wBAAQC,GAAR,CAAYF,GAAZ;AACA;AACH,aAHD,MAII;AACAf,uBAAOkB,aAAP,GAAuB,IAAvB,CADA,CAC6B;AAC7B,qBAAKC,QAAL,GAAgBC,KAAKC,KAAL,CAAWP,GAAX,CAAhB;AACA,qBAAI,IAAIQ,CAAR,IAAa,KAAKH,QAAlB,EAA2B;AACvB,yBAAI,IAAII,CAAR,IAAa,KAAKJ,QAAL,CAAcG,CAAd,CAAb,EAA8B;AAC1B,4BAAIE,OAAO,MAAX;AACA,4BAAGA,QAAQ,MAAX,EAAkB;AACdxB,mCAAOyB,OAAP,CAAeC,IAAf,CAAoB,CAAC,MAAD,EAAQ,KAAKP,QAAL,CAAcG,CAAd,EAAiBC,CAAjB,CAAR,CAApB;AACH;AACJ;AACJ;AACJ;AACJ,SAjBkC,CAiBjCI,IAjBiC,CAiB5B,IAjB4B,CAAnC;AAkBH,KAlCI;;AAmCL;AACAhB,eAAU,qBAAU;AAChB,YAAIC,OAAO,IAAX;AACAR,WAAGwB,MAAH,CAAUC,IAAV,CAAe1B,MAAI,aAAnB,EAAiC,UAASY,GAAT,EAAae,GAAb,EAAiB;AAC9C,gBAAGf,GAAH,EAAO;AACHC,wBAAQC,GAAR,CAAYc,KAAZ;AACH,aAFD,MAGI;AACA/B,uBAAOgC,KAAP,GAAeF,GAAf;AACH;AACJ,SAPgC,CAO/BH,IAP+B,CAO1B,IAP0B,CAAjC;AAQH,KA9CI;;AAiDLM,SAjDK,mBAiDI,CAER;AAnDI;;AAqDL;AArDJ","file":"getData.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\game","sourcesContent":["var globel = require(\"globel\");\r\nvar http = require(\"http\");\r\n\r\nconst url = globel.url;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n     \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad:function() {\r\n        this.getData();\r\n        this.musicPlay();\r\n    },\r\n    // 获取数据\r\n    getData(){\r\n        let self = this;\r\n        http.get(url+'jsonTest/gifts.json',function(res,err){\r\n            if(err){\r\n                console.log(err);\r\n                return;\r\n            } \r\n            else{\r\n                globel.is_httpConect = true; // 数据请求链接成功\r\n                this.listdata = JSON.parse(res);\r\n                for(let i in this.listdata){\r\n                    for(let j in this.listdata[i]){\r\n                        let type = \"gift\";\r\n                        if(type == 'gift'){\r\n                            globel.typeArr.push([\"gift\",this.listdata[i][j]]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }.bind(this));  \r\n    }, \r\n    // 获取音乐\r\n    musicPlay:function(){\r\n        var self = this;\r\n        cc.loader.load(url+\"bgMusic.mp3\",function(err,ret){\r\n            if(err){\r\n                console.log(error)\r\n            }\r\n            else{ \r\n                globel.music = ret;\r\n            }\r\n        }.bind(this))\r\n    },\r\n       \r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}