{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\modules/assets\\Script\\modules\\http.js"],"names":["http","get","url","callback","xhr","cc","loader","getXMLHttpRequest","onreadystatechange","readyState","status","respone","responseText","open","sys","isNative","setRequestHeader","timeout","send","post","params","log","module","exports"],"mappings":";;;;;;AAAA,IAAIA,OAAO;AACVC,SAAK,aAAUC,GAAV,EAAeC,QAAf,EAAyB;AACvB,YAAIC,MAAMC,GAAGC,MAAH,CAAUC,iBAAV,EAAV;AACAH,YAAII,kBAAJ,GAAyB,YAAY;AACjC,gBAAIJ,IAAIK,UAAJ,KAAmB,CAAnB,IAAyBL,IAAIM,MAAJ,IAAc,GAAd,IAAqBN,IAAIM,MAAJ,GAAa,GAA/D,EAAqE;AACjE,oBAAIC,UAAUP,IAAIQ,YAAlB;AACAT,yBAASQ,OAAT;AACH;AACJ,SALD;AAMAP,YAAIS,IAAJ,CAAS,KAAT,EAAgBX,GAAhB,EAAqB,IAArB;AACA,YAAIG,GAAGS,GAAH,CAAOC,QAAX,EAAqB;AACjBX,gBAAIY,gBAAJ,CAAqB,iBAArB,EAAwC,cAAxC;AACH;AACDZ,YAAIa,OAAJ,GAAc,IAAd,CAZuB,CAYJ;;AAEnBb,YAAIc,IAAJ;AACH,KAhBM;;AAkBPC,UAAM,cAAUjB,GAAV,EAAekB,MAAf,EAAuBjB,QAAvB,EAAiC;AACnC,YAAIC,MAAMC,GAAGC,MAAH,CAAUC,iBAAV,EAAV;AACAH,YAAII,kBAAJ,GAAyB,YAAY;AACjCH,eAAGgB,GAAH,CAAO,oBAAkBjB,IAAIK,UAAtB,GAAiC,eAAjC,GAAiDL,IAAIM,MAA5D;AACA,gBAAIN,IAAIK,UAAJ,KAAmB,CAAnB,IAAyBL,IAAIM,MAAJ,IAAc,GAAd,IAAqBN,IAAIM,MAAJ,GAAa,GAA/D,EAAqE;AACjE,oBAAIC,UAAUP,IAAIQ,YAAlB;AACAT,yBAASQ,OAAT;AACH,aAHD,MAGK;AACCR,yBAAS,CAAC,CAAV;AACL;AACJ,SARD;AASAC,YAAIS,IAAJ,CAAS,MAAT,EAAiBX,GAAjB,EAAsB,IAAtB;AACA,YAAIG,GAAGS,GAAH,CAAOC,QAAX,EAAqB;AACjBX,gBAAIY,gBAAJ,CAAqB,iBAArB,EAAwC,cAAxC;AACH;;AAED;AACA;AACAZ,YAAIa,OAAJ,GAAc,IAAd,CAlBmC,CAkBhB;;AAEnBb,YAAIc,IAAJ,CAASE,MAAT;AACH;AAvCM,CAAX;AAyCAE,OAAOC,OAAP,GAAiBvB,IAAjB","file":"http.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\modules","sourcesContent":["var http = {\r\n\tget: function (url, callback) {  \r\n        var xhr = cc.loader.getXMLHttpRequest();  \r\n        xhr.onreadystatechange = function () {  \r\n            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {  \r\n                var respone = xhr.responseText;  \r\n                callback(respone);  \r\n            }  \r\n        };  \r\n        xhr.open(\"GET\", url, true);  \r\n        if (cc.sys.isNative) {  \r\n            xhr.setRequestHeader(\"Accept-Encoding\", \"gzip,deflate\");  \r\n        }  \r\n        xhr.timeout = 5000;// 5 seconds for timeout  \r\n  \r\n        xhr.send();  \r\n    },  \r\n  \r\n    post: function (url, params, callback) {  \r\n        var xhr = cc.loader.getXMLHttpRequest();  \r\n        xhr.onreadystatechange = function () {  \r\n            cc.log('xhr.readyState='+xhr.readyState+'  xhr.status='+xhr.status);  \r\n            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {  \r\n                var respone = xhr.responseText;  \r\n                callback(respone);  \r\n            }else{  \r\n                  callback(-1);  \r\n            }  \r\n        };  \r\n        xhr.open(\"POST\", url, true);  \r\n        if (cc.sys.isNative) {  \r\n            xhr.setRequestHeader(\"Accept-Encoding\", \"gzip,deflate\");  \r\n        }  \r\n  \r\n        // note: In Internet Explorer, the timeout property may be set only after calling the open()  \r\n        // method and before calling the send() method.  \r\n        xhr.timeout = 5000;// 5 seconds for timeout  \r\n  \r\n        xhr.send(params);  \r\n    }  \r\n};\r\nmodule.exports = http;"]}