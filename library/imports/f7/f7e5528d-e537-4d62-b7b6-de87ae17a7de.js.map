{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\Script\\game/assets\\Script\\game\\setting.js"],"names":["globel","require","cc","Class","extends","Component","properties","music","type","AudioSource","default","effSwitchBtn","Node","musicSwitchBtn","keepScreenBtn","onLoad","musicSwitch","effSwitch","screenSwitch","musicPlay","loop","clip","console","log","isPlaying","play","MusicClick","x","effClick","keepScreenClick","setScreenOn","wx","setKeepScreenOn","keepScreenOn","setScreenOff","okBtn","stop","start"],"mappings":"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","file":"setting.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\Script\\game","sourcesContent":["let globel = require(\"globel\"); \r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        music:{\r\n           type:cc.AudioSource,\r\n           default:null\r\n        },\r\n        effSwitchBtn:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        musicSwitchBtn:{\r\n            type:cc.Node,\r\n            default:null\r\n        },\r\n        keepScreenBtn:{\r\n            type:cc.Node,\r\n            default:null\r\n        }\r\n        \r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad:function() {\r\n        // 初始化开关\r\n        this.musicSwitch = true; // 音乐开关\r\n        this.effSwitch = true; // 音效开关 \r\n        this.screenSwitch = false; // 屏幕常亮开关    \r\n    },\r\n\r\n    musicPlay:function(){\r\n        if(globel.music != ''){\r\n            this.music.loop = true;\r\n            this.music.clip = globel.music;\r\n            console.log(this.music.isPlaying);\r\n            if (!this.music.isPlaying) {\r\n                this.music.clip = globel.music;\r\n                this.music.play();\r\n                console.log(\"开始播放\");\r\n            }\r\n        }\r\n        else{\r\n            return;\r\n        }\r\n    },\r\n    // 音乐\r\n    MusicClick:function(){\r\n        if(!this.musicSwitch){ // 如果音乐是关的状态,则设为开\r\n            this.musicSwitchBtn.x = 58;\r\n        }\r\n        else{ // 如果音乐是开的状态，则设为关 \r\n            this.musicSwitchBtn.x = -57;\r\n        }\r\n        this.musicSwitch = !this.musicSwitch;\r\n    },\r\n    // 音效\r\n    effClick:function(){\r\n        if(!this.effSwitch){ // 如果音效是关的状态\r\n            this.effSwitchBtn.x = 58;\r\n        }\r\n        else{ \r\n            this.effSwitchBtn.x = -58;\r\n        }\r\n        this.effSwitch = !this.effSwitch;\r\n    },\r\n    // 屏幕常亮\r\n    keepScreenClick:function(){\r\n        if(!this.screenSwitch){ // 如果音效是关的状态\r\n            this.keepScreenBtn.x = 58;\r\n        }\r\n        else{ \r\n            this.keepScreenBtn.x = -57;\r\n        }\r\n        this.screenSwitch = !this.screenSwitch;\r\n    },\r\n    // 开启屏幕常亮\r\n    setScreenOn:function(){\r\n        wx.setKeepScreenOn({\r\n            keepScreenOn:true // 开\r\n        })\r\n    },\r\n     // 关闭屏幕常亮\r\n    setScreenOff:function(){\r\n        wx.setKeepScreenOn({\r\n            keepScreenOn:false //关\r\n        })\r\n    },\r\n    okBtn:function(){\r\n        // 判断音乐\r\n        if(this.musicSwitch){ // 音效打开，音乐打开\r\n            this.music.play(); // 打开音乐\r\n        }\r\n        else{\r\n            this.music.stop();  // 关闭音乐\r\n        } \r\n        // 判断音效\r\n        // 判断屏幕状态\r\n        if(this.screenSwitch){ // 如果屏幕常亮状态为开\r\n            this.setScreenOn();\r\n        }\r\n        else{\r\n            this.setScreenOff();\r\n        }\r\n    },\r\n\r\n\r\n    start () {\r\n        this.musicPlay(); // 下载音乐\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}